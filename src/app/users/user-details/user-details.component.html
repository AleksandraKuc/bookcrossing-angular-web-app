<script src="../../core/services/users.service.ts"></script><p>user-details works!</p>

<button mat-raised-button color="accent" *ngIf="isLoggedIn() && isProfileView()" (click)="editProfile()">Edit profile</button>
<button mat-raised-button color="accent" *ngIf="isLoggedIn() && isProfileView()" (click)="resetPassword()">Reset password</button>
<button mat-raised-button color="accent" *ngIf="isLoggedIn() && (isProfileView() || isAdmin())" (click)="deleteAccount()">Delete account</button>
<button mat-raised-button color="accent" *ngIf="isLoggedIn() && isAdmin() && isBlocked()" (click)="changeStatus()">Unblock account</button>
<button mat-raised-button color="accent" *ngIf="isLoggedIn() && isAdmin() && !isBlocked()" (click)="changeStatus()">Block account</button>
<button mat-raised-button color="accent" *ngIf="isLoggedIn() && !isProfileView()" (click)="sendMessage()">Send message</button>

<button mat-raised-button color="accent" *ngIf="isLoggedIn() && !isProfileView()" (click)="reportUser()">Report User</button>

<form [formGroup]="form">
  <mat-form-field appearance="fill">
    <mat-label>First name: </mat-label>
    <input matInput type="text" formControlName="firstName" readonly>
  </mat-form-field> <br/>

  <mat-form-field appearance="fill">
    <mat-label>Username: </mat-label>
    <input matInput type="text" formControlName="username" readonly>
  </mat-form-field> <br/>

  <mat-form-field appearance="fill">
    <mat-label>City: </mat-label>
    <input matInput type="text" formControlName="city" readonly>
  </mat-form-field> <br/>

  <mat-form-field appearance="fill">
    <mat-label>Province: </mat-label>
    <input matInput type="text" formControlName="province" readonly>
  </mat-form-field> <br/>

  <mat-form-field appearance="fill">
    <mat-label>Start date: </mat-label>
    <input matInput type="text" formControlName="startDate" readonly>
  </mat-form-field> <br/>

  <mat-form-field appearance="fill">
    <mat-label>Added books amount: </mat-label>
    <input matInput type="text" formControlName="addedBooks" readonly>
  </mat-form-field> <br/>
</form>

<div>
  <h3>Books added</h3>
  <app-books-list [listMode]="'own'" [username]="form.get('username').valueChanges" [isAccount]="true"></app-books-list>
</div>

<div>
  <h3>Favourite books</h3>
  <app-books-list [listMode]="'fav'" [username]="form.get('username').valueChanges" [isAccount]="true"></app-books-list>
</div>
